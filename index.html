<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b4ea2" />
  <title id="docTitle">클럽 수첩</title>

  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
  <button class="icon-btn" id="btnBack" aria-label="뒤로" hidden>←</button>

  <div class="brand">
    <img id="clubLogoSmall" class="brand-logo" alt="로고" src="./logo.png" />
    <div class="brand-title">
      <div id="districtText" class="brand-sub">국제라이온스협회 356-E지구</div>
      <div id="clubNameText" class="brand-main">북포항라이온스클럽</div>
    </div>
  </div>

<!-- 관리자(아이콘+텍스트 칩) -->
<button class="chip-btn" id="tileAdmin" hidden aria-label="관리자 사진 업로드">
  <!-- gear icon -->
  <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
    <path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.2 7.2 0 0 0-1.63-.94l-.36-2.54A.5.5 0 0 0 13.9 1h-3.8a.5.5 0 0 0-.49.42l-.36 2.54c-.58.23-1.12.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L1.81 7.48a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L1.93 14.52a.5.5 0 0 0-.12.64l1.92 3.32c.13.22.39.31.6.22l2.39-.96c.5.4 1.05.71 1.63.94l.36 2.54c.04.24.25.42.49.42h3.8c.24 0 .45-.18.49-.42l.36-2.54c.58-.23 1.12-.54 1.63-.94l2.39.96c.22.09.47 0 .6-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58zM12 15.5A3.5 3.5 0 1 1 12 8a3.5 3.5 0 0 1 0 7.5z"/>
  </svg>
  <span class="chip-text">관리자</span>
</button>

<!-- 로그아웃(전원 아이콘) -->
<button class="icon-btn" id="btnLogout" aria-label="로그아웃" title="로그아웃" hidden>
  <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
    <path d="M11 2h2v10h-2V2zm6.36 3.64 1.41 1.41A9 9 0 1 1 5.23 7.05l1.41-1.41A7 7 0 1 0 17.36 5.64z"/>
  </svg>
</button>

</header>


 <main class="container">

  <!-- ✅ 자동로그인 로딩 화면(BOOT) : 딱 1개만 -->
  <section id="screenBoot" class="screen boot" hidden>
    <div class="boot-card">
      <img class="boot-logo" src="./logo.png" alt="로고" />
	<div class="boot-title" id="bootTitle">클럽명</div>
	<div class="boot-sub" id="bootSub">회원수첩</div>


      <div class="boot-loading">
        <span class="spinner" aria-hidden="true"></span>
        <span>로딩중...</span>
      </div>

      <div class="boot-tip">잠시만요, 데이터를 불러오는 중입니다.</div>
    </div>
  </section>

  <!-- 로그인 -->
  <section id="screenLogin" class="screen login-bg">
    <div class="card hero">

      <!-- ✅ hero-text는 딱 1개만 -->
      <div class="hero-text">
        <div class="hero-title">
          	<div class="title-main" id="loginTitleMain">클럽명</div>
	<div class="title-sub" id="loginTitleSub">회원수첩</div>

        </div>

        <div class="hero-desc">
          승인된 회원만 접속 가능합니다.<br />
          휴대폰번호(숫자만)와 접속코드를 입력해주세요.
        </div>
      </div>

      <div class="form">
        <label class="label">휴대폰번호</label>
        <input id="inputPhone" class="input" inputmode="numeric" placeholder="01012345678" />

        <label class="label">접속코드</label>
        <input id="inputCode" class="input" inputmode="numeric" placeholder="폰번호4자리" />

        <label class="checkline">
          <input id="keepLogin" type="checkbox" />
          <span>로그인 상태 유지</span>
        </label>

        <button id="btnLogin" class="btn primary">로그인</button>

        <div class="install-row">
          <button id="btnInstallAndroid" class="btn install">안드로이드 앱 설치</button>
          <button id="btnInstallIOS" class="btn install ghost">아이폰 설치방법</button>
        </div>
        <div id="installHint" class="hint" hidden></div>

        <div id="loginError" class="error" hidden></div>
      </div>
    </div>
  </section>

  <!-- 이하 홈/멤버/공지/텍스트는 그대로 -->
    <!-- 홈 -->
  <section id="screenHome" class="screen" hidden>
    <div class="card cover" id="coverCard">
      <div class="cover-overlay"></div>
      <div class="cover-content">
        <div class="cover-title" id="coverTitle">북포항라이온스클럽</div>
        <div class="cover-sub" id="coverSub">국제라이온스협회 356-E지구</div>
      </div>
    </div>

    <div class="grid">
      <button class="tile" data-nav="members">
        <div class="tile-title">회원명부</div>
        <div class="tile-desc">검색 · 통화 · 문자 · 연락처저장</div>
      </button>
      <button class="tile" data-nav="announcements">
        <div class="tile-title">공지사항</div>
        <div class="tile-desc">관리자 공지 확인</div>
      </button>
      <button class="tile" data-nav="purpose">
        <div class="tile-title">클럽 목적</div>
        <div class="tile-desc">모임의 목적</div>
      </button>
      <button class="tile" data-nav="bylaws">
        <div class="tile-title">회칙</div>
        <div class="tile-desc">회칙/규정</div>
      </button>
      <button class="tile tile-image" data-nav="song">
        <div class="tile-title">라이온스 노래</div>
        <div class="tile-desc">이미지로 보기</div>
      </button>

       <button class="tile tile-soon" type="button">
         <div class="tile-title">기타</div>
         <div class="tile-desc">준비중</div>
       </button>






    </div>

    <div class="card mt16">
      <div class="card-header">
        <div class="card-title">최신 공지</div>
        <button class="link" data-nav="announcements">전체보기</button>
      </div>
      <div id="latestAnnouncements" class="list"></div>
    </div>
  </section>

  <!-- 회원 -->
  <section id="screenMembers" class="screen" hidden>
    <div class="card">
      <div class="card-header">
        <div class="card-title">회원명부</div>
        <div class="pill" id="memberCountPill">0명</div>
      </div>
      <input id="memberSearch" class="input" placeholder="이름 / 직위 / 그룹 / 휴대폰 검색" />
      <div id="memberList" class="list mt12"></div>
    </div>
  </section>

  <!-- 공지 -->
  <section id="screenAnnouncements" class="screen" hidden>
    <div class="card">
      <div class="card-header">
        <div class="card-title">공지사항</div>
      </div>
      <div id="annList" class="list"></div>
    </div>
  </section>

  <!-- 텍스트 -->
  <section id="screenText" class="screen" hidden>
    <div class="card">
      <div class="card-header">
        <div class="card-title" id="textTitle">제목</div>
      </div>
      <div id="textBody" class="prose"></div>
    </div>
  </section>

  <div id="toast" class="toast" hidden></div>


<!-- ===== 프로필 확대 팝업 ===== -->
<div id="profileModal" class="modal" hidden>
  <div class="modal-backdrop" onclick="closeProfile()"></div>
  <div class="modal-card">
    <img id="modalPhoto" class="modal-photo" />

    <div class="modal-name" id="modalName"></div>

    <div class="modal-position">
      <span class="badge" id="modalPosition"></span>
    </div>

<div class="modal-workplace" id="modalWorkplace"></div>

<div class="modal-map-actions">
  <button id="btnMap" class="a-btn primary" type="button">📍 지도</button>

</div>

<div class="modal-phone" id="modalPhone"></div>


    <div class="modal-actions">
      <a id="modalCall" class="a-btn primary">📞 통화</a>
      <a id="modalSms" class="a-btn">💬 문자</a>
    </div>

    <button class="modal-close" onclick="closeProfile()">닫기</button>
  </div>
</div>


<!-- ===== 공지 상세 모달 ===== -->
<div id="annModal" class="modal" hidden>
  <div class="modal-backdrop" onclick="closeAnnModal()"></div>
  <div class="modal-card" style="width:min(94vw,560px);text-align:left;">
    <div style="font-weight:950;font-size:18px;" id="annModalTitle"></div>
    <div style="color:#64748b;font-size:13px;margin-top:6px;" id="annModalMeta"></div>
    <div style="margin-top:12px;white-space:pre-wrap;line-height:1.65;" id="annModalBody"></div>
    <button class="modal-close" onclick="closeAnnModal()">닫기</button>
  </div>
</div>



<!-- ===== 이미지 보기 모달(라이온스 노래) ===== -->
<div id="imgModal" class="modal" hidden>
  <div class="modal-backdrop" onclick="closeImgModal()"></div>
  <div class="modal-card" style="width:min(96vw,520px);padding:12px;">
    <img id="imgModalPhoto" style="width:100%;height:auto;border-radius:14px;display:block;" />
    <button class="modal-close" onclick="closeImgModal()">닫기</button>
  </div>
</div>

</main>

<script src="./config.js?v=2"></script>
<script src="./app.js?v=3"></script>


</body>
</html>
